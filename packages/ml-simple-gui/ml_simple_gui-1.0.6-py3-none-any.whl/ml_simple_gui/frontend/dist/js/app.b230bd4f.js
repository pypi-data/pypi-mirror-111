(function(e){function t(t){for(var n,i,o=t[0],c=t[1],l=t[2],p=0,m=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&m.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],n=!0,o=1;o<a.length;o++){var c=a[o];0!==r[c]&&(n=!1)}n&&(s.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},s=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"479b":function(e,t,a){"use strict";a.r(t),a.d(t,"state",(function(){return m})),a.d(t,"mutations",(function(){return x})),a.d(t,"actions",(function(){return T})),a.d(t,"getters",(function(){return y}));var n,r=a("1da1"),s=a("ade3"),i=a("5530"),o=(a("96cf"),a("b0c0"),a("a9e3"),a("bc3a")),c=a.n(o),l="http://127.0.0.1:5000",u=a("2b0e"),p=a("2ef0"),m={trainTestDataFile:null,testPercent:25,learningRate:.01,learningEpochs:1e3,resultLoading:!1,result:{sensitivity:0,specificity:0,accuracy:0},modelParams:{},modelParamsLoading:!1},d="SET_TRAIN_TEST_FILE",f="TEST_PERCENT",b="LEARNING_RATE",v="LEARNING_EPOCHS",h="FETCH_RESULTS_START",g="FETCH_RESULTS_END",O="SET_RESULTS",P="FETCH_MODEL_PARAMS_START",j="FETCH_MODEL_PARAMS_END",_="SET_MODEL_PARAMS",S="SET_MODEL_PARAM_VALUE",x=(n={},Object(s["a"])(n,d,(function(e,t){e.trainTestDataFile=t})),Object(s["a"])(n,f,(function(e,t){e.testPercent=t})),Object(s["a"])(n,b,(function(e,t){e.learningRate=t})),Object(s["a"])(n,v,(function(e,t){e.learningEpochs=t})),Object(s["a"])(n,h,(function(e){e.resultLoading=!0})),Object(s["a"])(n,g,(function(e){e.resultLoading=!1})),Object(s["a"])(n,O,(function(e,t){u["a"].set(e,"result",t)})),Object(s["a"])(n,P,(function(e){e.modelParamsLoading=!0})),Object(s["a"])(n,j,(function(e){e.modelParamsLoading=!1})),Object(s["a"])(n,_,(function(e,t){u["a"].set(e,"modelParams",t)})),Object(s["a"])(n,S,(function(e,t){var a=t.code,n=t.value;u["a"].set(e.modelParams,a,Object(i["a"])(Object(i["a"])({},e.modelParams[a]),{},{value:n}))})),n),T={uploadFile:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,r,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=e.commit,a.prev=1,"undefined"!==typeof t.name){a.next=4;break}throw new Error("Empty file");case 4:return r=new FormData,r.append("file",t),a.next=8,c.a.post("".concat(l,"/upload_data/"),r,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){return e.data||{}})).catch((function(){console.log("FAILURE!!")}));case 8:if(s=a.sent,"success"!==s.status){a.next=14;break}return a.next=12,n(d,s.result);case 12:a.next=15;break;case 14:console.log(s.result.message||"error");case 15:a.next=20;break;case 17:a.prev=17,a.t0=a["catch"](1),console.log(a.t0.message);case 20:case"end":return a.stop()}}),a,null,[[1,17]])})))()},setTestPercent:function(e,t){var a=e.commit;a(f,Number(t))},setLearningRate:function(e,t){var a=e.commit;a(b,Number(t))},setLearningEpochs:function(e,t){var a=e.commit;a(v,Number(t))},fetchResults:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.prev=1,a.next=4,n(h);case 4:return a.next=6,c.a.post("".concat(l,"/fit_predict/"),t).then((function(e){return e.data||{}})).catch((function(){console.log("FAILURE!!")}));case 6:if(r=a.sent,"success"!==r.status){a.next=14;break}return a.next=10,n(O,r.result);case 10:return a.next=12,n(g);case 12:a.next=17;break;case 14:return a.next=16,n(g);case 16:console.log(r.result.message||"error");case 17:a.next=24;break;case 19:return a.prev=19,a.t0=a["catch"](1),a.next=23,n(g);case 23:console.log(a.t0.message);case 24:case"end":return a.stop()}}),a,null,[[1,19]])})))()},fetchModelParams:function(e,t){return Object(r["a"])(regeneratorRuntime.mark((function a(){var n,r;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.commit,a.prev=1,a.next=4,n(P);case 4:return a.next=6,c.a.get("".concat(l,"/model_params"),t).then((function(e){return e.data||{}})).catch((function(){console.log("FAILURE!!")}));case 6:if(r=a.sent,"success"!==r.status){a.next=14;break}return a.next=10,n(_,Object(p["keyBy"])(Object(p["get"])(r,["result","params"],[]),"code"));case 10:return a.next=12,n(j);case 12:a.next=17;break;case 14:return a.next=16,n(j);case 16:console.log(r.result.message||"error");case 17:a.next=24;break;case 19:return a.prev=19,a.t0=a["catch"](1),a.next=23,n(j);case 23:console.log(a.t0.message);case 24:case"end":return a.stop()}}),a,null,[[1,19]])})))()},setModelParam:function(e,t){var a=e.commit,n=t.code,r=t.value;a(S,{code:n,value:r})}},y={trainTestDataFile:function(e){return e.trainTestDataFile},isTrainTestDataFileValid:function(e){return!!e.trainTestDataFile},testPercent:function(e){return e.testPercent},learningRate:function(e){return e.learningRate},learningEpochs:function(e){return e.learningEpochs},result:function(e){return e.result},resultLoading:function(e){return e.resultLoading},modelParams:function(e){return e.modelParams},modelParamsLoading:function(e){return e.modelParamsLoading}}},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:""}},[a("v-toolbar-title",[e._v(e._s(e.applicationTitle))])],1),a("v-main",[a("router-view")],1)],1)},s=[],i={name:"App",data:function(){return{applicationTitle:"Simple Machine Learning GUI"}}},o=i,c=a("2877"),l=a("6544"),u=a.n(l),p=a("7496"),m=a("40dc"),d=a("f6c4"),f=a("2a7f"),b=Object(c["a"])(o,r,s,!1,null,null,null),v=b.exports;u()(b,{VApp:p["a"],VAppBar:m["a"],VMain:d["a"],VToolbarTitle:f["a"]});var h=a("f309");n["a"].use(h["a"]);var g=new h["a"]({}),O=a("8c4f"),P=a("2106"),j=a.n(P),_=a("bc3a"),S=a.n(_),x=a("ade3"),T=a("5530"),y=a("3835"),E=(a("d81d"),a("d3b7"),a("ddb0"),a("ac1f"),a("5319"),a("2f62"));n["a"].use(E["a"]);var w=a("6c17"),R=w.keys().map((function(e){return[e.replace(/(^.\/)|(\.js$)/g,""),w(e)]})).reduce((function(e,t){var a=Object(y["a"])(t,2),n=a[0],r=a[1];return void 0===r.namespaced&&(r.namespaced=!0),Object(T["a"])(Object(T["a"])({},e),{},Object(x["a"])({},n,r))}),{}),L=new E["a"].Store({modules:R}),V=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-stepper",{model:{value:e.mainStepperProgress,callback:function(t){e.mainStepperProgress=t},expression:"mainStepperProgress"}},[a("v-stepper-header",[e._l(e.steps,(function(t,n){return[a("v-stepper-step",{key:t.id+"-step",attrs:{complete:e.mainStepperProgress>n,step:n}},[e._v(" "+e._s(t.name)+" "),a("v-divider")],1),a("v-divider",{key:t.id+"-divider"})]}))],2),a("v-stepper-items",e._l(e.steps,(function(t,n){return a("v-stepper-content",{key:t.id,attrs:{step:n}},[a("v-card",{staticClass:"mb-12"},[a(t.component,{tag:"component",attrs:{"is-opened":e.mainStepperProgress===Number(n)}})],1),a("v-row",{attrs:{justify:"space-between"}},[a("v-col",{staticClass:"my-1"},[n>e.minStepNumber?a("v-btn",{on:{click:e.previousStep}},[e._v(" Назад ")]):e._e()],1),a("v-col",{staticClass:"text-end my-1"},[n<e.maxStepNumber?a("v-btn",{attrs:{color:"primary",disabled:e.isNextButtonDisabled},on:{click:e.nextStep}},[e._v(" Вперед ")]):e._e()],1)],1)],1)})),1)],1)},F=[],k=(a("b64b"),a("2ef0")),D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-file-input",{ref:"dataFile",attrs:{rules:e.rules,accept:".csv",placeholder:"Файл с обучающей выборкой",label:"Файл с обучающей выборкой"},on:{change:e.onFileChange}})],1)},C=[],M=a("1da1"),A=(a("96cf"),{name:"UploadFilesStep",props:["isOpened"],data:function(){return{rules:[function(e){return!e||e.size<2e8||"Файл должен быть меньше 200 МБ!"}]}},computed:Object(T["a"])({},Object(E["c"])({trainTestDataFile:"main/trainTestDataFile"})),methods:Object(T["a"])(Object(T["a"])({},Object(E["b"])({uploadFile:"main/uploadFile"})),{},{onFileChange:function(){var e=Object(M["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.uploadFile(t||{});case 2:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()})}),N=A,I=a("23a7"),U=Object(c["a"])(N,D,C,!1,null,"5cc67d25",null),$=U.exports;u()(U,{VFileInput:I["a"]});var H=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.modelParamsLoading?a("v-skeleton-loader",{attrs:{type:"list-item-three-line, list-item-three-line, image, actions"}}):a("v-row",e._l(Object.keys(e.modelParams),(function(t){return a("v-col",{key:e.modelParams[t].code},[a("v-text-field",{attrs:{label:e.modelParams[t].name,name:e.modelParams[t].code,value:e.modelParams[t].defaultValue,required:""},on:{change:function(a){return e.onParamValueChange(a,e.modelParams[t].code)}}})],1)})),1)},B=[],G={name:"SelectParamsStep",props:["isOpened"],data:function(){return{}},methods:Object(T["a"])(Object(T["a"])({},Object(E["b"])({setModelParam:"main/setModelParam",fetchModelParams:"main/fetchModelParams"})),{},{onParamValueChange:function(e,t){this.setModelParam({code:t,value:e})}}),computed:Object(T["a"])({},Object(E["c"])({modelParams:"main/modelParams",modelParamsLoading:"main/modelParamsLoading"})),watch:{isOpened:function(e){e&&this.fetchModelParams()}}},J=G,q=a("62ad"),z=a("0fd9"),K=a("3129"),Q=a("8654"),W=Object(c["a"])(J,H,B,!1,null,"c2430e0c",null),X=W.exports;u()(W,{VCol:q["a"],VRow:z["a"],VSkeletonLoader:K["a"],VTextField:Q["a"]});var Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[a("v-col",{attrs:{cols:"6"}},[e.resultLoading?a("v-skeleton-loader",{attrs:{type:"list-item-three-line, list-item-three-line, image, actions"}}):[a("v-list",{staticClass:"transparent"},[a("v-list-item",[a("v-list-item-title",[e._v("Точность")]),a("v-list-item-subtitle",{staticClass:"text-right"},[e._v(" "+e._s(e.result.accuracy)+"% ")])],1),a("v-list-item",[a("v-list-item-title",[e._v("Чувствительность")]),a("v-list-item-subtitle",{staticClass:"text-right"},[e._v(" "+e._s(e.result.sensitivity)+"% ")])],1),a("v-list-item",[a("v-list-item-title",[e._v("Специфичность")]),a("v-list-item-subtitle",{staticClass:"text-right"},[e._v(" "+e._s(e.result.specificity)+"% ")])],1)],1)]],2)],1)},Z=[],ee={name:"ResultStep",props:["isOpened"],methods:Object(T["a"])({},Object(E["b"])({fetchResults:"main/fetchResults"})),computed:Object(T["a"])({},Object(E["c"])({trainTestDataFile:"main/trainTestDataFile",learningEpochs:"main/learningEpochs",modelParams:"main/modelParams",result:"main/result"})),watch:{isOpened:function(e){e&&this.fetchResults({file:this.trainTestDataFile,modelParams:this.modelParams})}}},te=ee,ae=a("8860"),ne=a("da13"),re=a("5d23"),se=Object(c["a"])(te,Y,Z,!1,null,"75338052",null),ie=se.exports;u()(se,{VCol:q["a"],VList:ae["a"],VListItem:ne["a"],VListItemSubtitle:re["a"],VListItemTitle:re["b"],VRow:z["a"],VSkeletonLoader:K["a"]});var oe={name:"MainSteps",components:{UploadFilesStep:$,SelectParamsStep:X,ResultStep:ie},data:function(){return{mainStepperProgress:1,steps:{1:{id:"loadFile",name:"Загрузка данных",component:"upload-files-step"},2:{id:"selectParams",name:"Настройка параметров модели",component:"select-params-step"},3:{id:"results",name:"Результаты",component:"result-step"}}}},computed:Object(T["a"])(Object(T["a"])({},Object(E["c"])({isTrainTestDataFileValid:"main/isTrainTestDataFileValid"})),{},{maxStepNumber:function(){return Object(k["last"])(Object.keys(this.steps))},minStepNumber:function(){return Object(k["first"])(Object.keys(this.steps))},isNextButtonDisabled:function(){return!this["".concat(this.steps[this.mainStepperProgress].id,"Valid")]},selectParamsValid:function(){return!0},loadFileValid:function(){return this.isTrainTestDataFileValid},resultsValid:function(){return!0}}),methods:{nextStep:function(){this.mainStepperProgress++},previousStep:function(){this.mainStepperProgress--}}},ce=oe,le=a("8336"),ue=a("b0af"),pe=a("ce7e"),me=a("7e85"),de=a("e516"),fe=a("9c54"),be=a("56a4"),ve=Object(c["a"])(ce,V,F,!1,null,"50843410",null),he=ve.exports;u()(ve,{VBtn:le["a"],VCard:ue["a"],VCol:q["a"],VDivider:pe["a"],VRow:z["a"],VStepper:me["a"],VStepperContent:de["a"],VStepperHeader:fe["a"],VStepperItems:fe["b"],VStepperStep:be["a"]});var ge=[{path:"/",component:he}],Oe=new O["a"]({mode:"history",routes:ge});n["a"].use(O["a"]),n["a"].use(j.a,S.a),n["a"].config.productionTip=!1,new n["a"]({vuetify:g,store:L,router:Oe,render:function(e){return e(v)}}).$mount("#app")},"6c17":function(e,t,a){var n={"./main.js":"479b"};function r(e){var t=s(e);return a(t)}function s(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=s,e.exports=r,r.id="6c17"}});
//# sourceMappingURL=app.b230bd4f.js.map