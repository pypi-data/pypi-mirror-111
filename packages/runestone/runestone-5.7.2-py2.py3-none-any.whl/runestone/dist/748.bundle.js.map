{"version":3,"sources":["webpack://WebComponents/./runestone/dragndrop/js/dragndrop-i18n.en.js","webpack://WebComponents/./runestone/dragndrop/js/dragndrop-i18n.pt-br.js","webpack://WebComponents/./runestone/dragndrop/js/dragndrop.js","webpack://WebComponents/./runestone/dragndrop/js/timeddnd.js"],"names":["$","i18n","load","en","msg_dragndrop_correct_answer","msg_dragndrop_incorrect_answer","msg_dragndrop_check_me","msg_dragndrop_reset","ddList","DragNDrop","opts","super","orig","this","origElem","divid","id","useRunestoneServices","random","is","feedback","dragPairArray","question","populate","createNewElements","caption","addCaption","i","childNodes","length","data","tmp","find","attr","replaceSpan","document","createElement","innerHTML","addClass","otherReplaceSpan","setEventListeners","tmpArr","push","containerDiv","text","appendChild","dragDropWrapDiv","css","draggableDiv","addDragDivListeners","dropZoneDiv","createButtons","checkServer","appendReplacementSpans","renderFeedbackDiv","replaceWith","hasStoredDropzones","minheight","height","style","minHeight","toString","self","addEventListener","ev","preventDefault","hasClass","bind","isAnswered","removeClass","dataTransfer","getData","draggedSpan","getElementById","has","strangerDanger","e","buttonDiv","submitButton","textContent","class","name","type","onclick","checkCurrentAnswer","renderFeedback","logCurrentAnswer","resetButton","resetDraggables","createIndexArray","randomizeIndexArray","inArray","indexArray","pregnantIndexArray","dgSpan","dpSpan","setData","target","hasNoDragChild","feedBackDiv","testSpan","parent","counter","temporaryValue","randomIndex","currentIndex","Math","floor","j","display","correct","unansweredNum","incorrectNum","dragNum","correctNum","percent","setLocalStorage","answer","join","logBookEvent","event","act","div_id","msgCorrect","html","msgIncorrect","split","finishSettingUp","graderactive","storedObj","localStorage","ex","getItem","localStorageKey","JSON","parse","err","console","log","message","removeItem","undefined","timeStamp","Date","storageObj","timestamp","setItem","stringify","hide","each","index","eBookConfig","closest","TimedDragNDrop","renderTimedIcon","hideButtons","component","timeIconDiv","timeIcon","src","className","title","prepend","window","component_factory","timed"],"mappings":"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","file":"748.bundle.js?v=bb49b7cdffeb0632a4e2","sourcesContent":["$.i18n().load({\n    en: {\n        msg_dragndrop_correct_answer: \"You are correct!\",\n        msg_dragndrop_incorrect_answer:\n            \"Incorret. You got $1 correct and $2 incorrect out of $3. You left $4 blank.\",\n        msg_dragndrop_check_me: \"Check me\",\n        msg_dragndrop_reset: \"Reset\",\n    },\n});\n","$.i18n().load({\n    \"pt-br\": {\n        msg_dragndrop_correct_answer: \"Correto!\",\n        msg_dragndrop_incorrect_answer:\n            \"Incorreto. Você teve $1 correto(s) e $2 incorreto(s) de $3. Você deixou $4 em branco.\",\n        msg_dragndrop_check_me: \"Verificar\",\n        msg_dragndrop_reset: \"Resetar\",\n    },\n});\n","/*==========================================\n=======     Master dragndrop.js     ========\n============================================\n===     This file contains the JS for    ===\n=== the Runestone Drag n drop component. ===\n============================================\n===              Created by              ===\n===           Isaiah Mayerchak           ===\n===                7/6/15                ===\n===              Brad MIller             ===\n===                2/7/19                ===\n==========================================*/\n\"use strict\";\n\nimport RunestoneBase from \"../../common/js/runestonebase.js\";\nimport \"../css/dragndrop.css\";\nimport \"./dragndrop-i18n.en.js\";\nimport \"./dragndrop-i18n.pt-br.js\";\n\nexport var ddList = {}; // Dictionary that contains all instances of dragndrop objects\n\nexport default class DragNDrop extends RunestoneBase {\n    constructor(opts) {\n        super(opts);\n        var orig = opts.orig; // entire <ul> element that will be replaced by new HTML\n        this.origElem = orig;\n        this.divid = orig.id;\n        this.useRunestoneServices = opts.useRunestoneServices;\n        this.random = false;\n        if ($(this.origElem).is(\"[data-random]\")) {\n            this.random = true;\n        }\n        this.feedback = \"\";\n        this.dragPairArray = [];\n        this.question = \"\";\n        this.populate(); // Populates this.dragPairArray, this.feedback and this.question\n        this.createNewElements();\n        this.caption = \"Drag-N-Drop\";\n        this.addCaption(\"runestone\");\n    }\n    /*======================\n    === Update variables ===\n    ======================*/\n    populate() {\n        for (var i = 0; i < this.origElem.childNodes.length; i++) {\n            if (\n                $(this.origElem.childNodes[i]).data(\"subcomponent\") === \"dropzone\"\n            ) {\n                var tmp = $(this.origElem).find(\n                    `#${$(this.origElem.childNodes[i]).attr(\"for\")}`\n                )[0];\n                var replaceSpan = document.createElement(\"span\");\n                replaceSpan.innerHTML = tmp.innerHTML;\n                replaceSpan.id = this.divid + tmp.id;\n                $(replaceSpan).attr(\"draggable\", \"true\");\n                $(replaceSpan).addClass(\"draggable-drag\");\n                var otherReplaceSpan = document.createElement(\"span\");\n                otherReplaceSpan.innerHTML = this.origElem.childNodes[\n                    i\n                ].innerHTML;\n                $(otherReplaceSpan).addClass(\"draggable-drop\");\n                this.setEventListeners(replaceSpan, otherReplaceSpan);\n                var tmpArr = [];\n                tmpArr.push(replaceSpan);\n                tmpArr.push(otherReplaceSpan);\n                this.dragPairArray.push(tmpArr);\n            } else if (\n                $(this.origElem.childNodes[i]).data(\"subcomponent\") === \"question\"\n            ) {\n                this.question = this.origElem.childNodes[i].innerHTML;\n            } else if (\n                $(this.origElem.childNodes[i]).data(\"subcomponent\") === \"feedback\"\n            ) {\n                this.feedback = this.origElem.childNodes[i].innerHTML;\n            }\n        }\n    }\n    /*========================================\n    == Create new HTML elements and replace ==\n    ==      original element with them      ==\n    ========================================*/\n    createNewElements() {\n        this.containerDiv = document.createElement(\"div\");\n        this.containerDiv.id = this.divid;\n        $(this.containerDiv).addClass(\n            \"alert alert-warning draggable-container\"\n        );\n        $(this.containerDiv).text(this.question);\n        this.containerDiv.appendChild(document.createElement(\"br\"));\n        this.dragDropWrapDiv = document.createElement(\"div\"); // Holds the draggables/dropzones, prevents feedback from bleeding in\n        $(this.dragDropWrapDiv).css(\"display\", \"block\");\n        this.containerDiv.appendChild(this.dragDropWrapDiv);\n        this.draggableDiv = document.createElement(\"div\");\n        $(this.draggableDiv).addClass(\"rsdraggable dragzone\");\n        this.addDragDivListeners();\n        this.dropZoneDiv = document.createElement(\"div\");\n        $(this.dropZoneDiv).addClass(\"rsdraggable\");\n        this.dragDropWrapDiv.appendChild(this.draggableDiv);\n        this.dragDropWrapDiv.appendChild(this.dropZoneDiv);\n        this.createButtons();\n        this.checkServer(\"dragNdrop\", true);\n    }\n    finishSettingUp() {\n        this.appendReplacementSpans();\n        this.renderFeedbackDiv();\n        $(this.origElem).replaceWith(this.containerDiv);\n        if (!this.hasStoredDropzones) {\n            this.minheight = $(this.draggableDiv).height();\n        }\n        this.draggableDiv.style.minHeight = this.minheight.toString() + \"px\";\n        if ($(this.dropZoneDiv).height() > this.minheight) {\n            this.dragDropWrapDiv.style.minHeight =\n                $(this.dropZoneDiv).height().toString() + \"px\";\n        } else {\n            this.dragDropWrapDiv.style.minHeight =\n                this.minheight.toString() + \"px\";\n        }\n    }\n    addDragDivListeners() {\n        let self = this;\n        this.draggableDiv.addEventListener(\n            \"dragover\",\n            function (ev) {\n                ev.preventDefault();\n                if ($(this.draggableDiv).hasClass(\"possibleDrop\")) {\n                    return;\n                }\n                $(this.draggableDiv).addClass(\"possibleDrop\");\n            }.bind(this)\n        );\n        this.draggableDiv.addEventListener(\n            \"drop\",\n            function (ev) {\n                self.isAnswered = true;\n                ev.preventDefault();\n                if ($(this.draggableDiv).hasClass(\"possibleDrop\")) {\n                    $(this.draggableDiv).removeClass(\"possibleDrop\");\n                }\n                var data = ev.dataTransfer.getData(\"draggableID\");\n                var draggedSpan = document.getElementById(data);\n                if (\n                    !$(this.draggableDiv).has(draggedSpan).length &&\n                    !this.strangerDanger(draggedSpan)\n                ) {\n                    // Make sure element isn't already there--prevents erros w/appending child\n                    this.draggableDiv.appendChild(draggedSpan);\n                }\n            }.bind(this)\n        );\n        this.draggableDiv.addEventListener(\n            \"dragleave\",\n            function (e) {\n                if (!$(this.draggableDiv).hasClass(\"possibleDrop\")) {\n                    return;\n                }\n                $(this.draggableDiv).removeClass(\"possibleDrop\");\n            }.bind(this)\n        );\n    }\n    createButtons() {\n        this.buttonDiv = document.createElement(\"div\");\n        this.submitButton = document.createElement(\"button\"); // Check me button\n        this.submitButton.textContent = $.i18n(\"msg_dragndrop_check_me\");\n        $(this.submitButton).attr({\n            class: \"btn btn-success drag-button\",\n            name: \"do answer\",\n            type: \"button\",\n        });\n        this.submitButton.onclick = function () {\n            this.checkCurrentAnswer();\n            this.renderFeedback();\n            this.logCurrentAnswer(true);\n        }.bind(this);\n        this.resetButton = document.createElement(\"button\"); // Check me button\n        this.resetButton.textContent = $.i18n(\"msg_dragndrop_reset\");\n        $(this.resetButton).attr({\n            class: \"btn btn-default drag-button drag-reset\",\n            name: \"do answer\",\n        });\n        this.resetButton.onclick = function () {\n            this.resetDraggables();\n        }.bind(this);\n        this.buttonDiv.appendChild(this.submitButton);\n        this.buttonDiv.appendChild(this.resetButton);\n        this.containerDiv.appendChild(this.buttonDiv);\n    }\n    appendReplacementSpans() {\n        this.createIndexArray();\n        this.randomizeIndexArray();\n        for (let i = 0; i < this.dragPairArray.length; i++) {\n            if (this.hasStoredDropzones) {\n                if (\n                    $.inArray(this.indexArray[i][0], this.pregnantIndexArray) <\n                    0\n                ) {\n                    this.draggableDiv.appendChild(\n                        this.dragPairArray[this.indexArray[i]][0]\n                    );\n                }\n            } else {\n                this.draggableDiv.appendChild(\n                    this.dragPairArray[this.indexArray[i]][0]\n                );\n            }\n        }\n        this.randomizeIndexArray();\n        for (let i = 0; i < this.dragPairArray.length; i++) {\n            if (this.hasStoredDropzones) {\n                if (this.pregnantIndexArray[this.indexArray[i]] !== \"-1\") {\n                    this.dragPairArray[this.indexArray[i]][1].appendChild(\n                        this.dragPairArray[\n                            this.pregnantIndexArray[this.indexArray[i]]\n                        ][0]\n                    );\n                }\n            }\n            this.dropZoneDiv.appendChild(\n                this.dragPairArray[this.indexArray[i]][1]\n            );\n        }\n    }\n    setEventListeners(dgSpan, dpSpan) {\n        // Adds HTML5 \"drag and drop\" UI functionality\n        let self = this;\n        dgSpan.addEventListener(\"dragstart\", function (ev) {\n            ev.dataTransfer.setData(\"draggableID\", ev.target.id);\n        });\n        dgSpan.addEventListener(\"dragover\", function (ev) {\n            ev.preventDefault();\n        });\n        dgSpan.addEventListener(\n            \"drop\",\n            function (ev) {\n                self.isAnswered = true;\n                ev.preventDefault();\n                var data = ev.dataTransfer.getData(\"draggableID\");\n                var draggedSpan = document.getElementById(data);\n                if (\n                    this.hasNoDragChild(ev.target) &&\n                    draggedSpan != ev.target &&\n                    !this.strangerDanger(draggedSpan)\n                ) {\n                    // Make sure element isn't already there--prevents erros w/appending child\n                    this.draggableDiv.appendChild(draggedSpan);\n                }\n            }.bind(this)\n        );\n        dpSpan.addEventListener(\n            \"dragover\",\n            function (ev) {\n                self.isAnswered = true;\n                ev.preventDefault();\n                if ($(ev.target).hasClass(\"possibleDrop\")) {\n                    return;\n                }\n                if (\n                    $(ev.target).hasClass(\"draggable-drop\") &&\n                    this.hasNoDragChild(ev.target)\n                ) {\n                    $(ev.target).addClass(\"possibleDrop\");\n                }\n            }.bind(this)\n        );\n        dpSpan.addEventListener(\"dragleave\", function (ev) {\n            self.isAnswered = true;\n            ev.preventDefault();\n            if (!$(ev.target).hasClass(\"possibleDrop\")) {\n                return;\n            }\n            $(ev.target).removeClass(\"possibleDrop\");\n        });\n        dpSpan.addEventListener(\n            \"drop\",\n            function (ev) {\n                self.isAnswered = true;\n                ev.preventDefault();\n                if ($(ev.target).hasClass(\"possibleDrop\")) {\n                    $(ev.target).removeClass(\"possibleDrop\");\n                }\n                var data = ev.dataTransfer.getData(\"draggableID\");\n                var draggedSpan = document.getElementById(data);\n                if (\n                    $(ev.target).hasClass(\"draggable-drop\") &&\n                    this.hasNoDragChild(ev.target) &&\n                    !this.strangerDanger(draggedSpan)\n                ) {\n                    // Make sure element isn't already there--prevents erros w/appending child\n                    ev.target.appendChild(draggedSpan);\n                }\n            }.bind(this)\n        );\n    }\n    renderFeedbackDiv() {\n        if (!this.feedBackDiv) {\n            this.feedBackDiv = document.createElement(\"div\");\n            this.feedBackDiv.id = this.divid + \"_feedback\";\n            this.containerDiv.appendChild(document.createElement(\"br\"));\n            this.containerDiv.appendChild(this.feedBackDiv);\n        }\n    }\n    /*=======================\n    == Auxiliary functions ==\n    =======================*/\n    strangerDanger(testSpan) {\n        // Returns true if the test span doesn't belong to this instance of DragNDrop\n        var strangerDanger = true;\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            if (testSpan === this.dragPairArray[i][0]) {\n                strangerDanger = false;\n            }\n        }\n        return strangerDanger;\n    }\n    hasNoDragChild(parent) {\n        // Ensures that each dropZoneDiv can have only one draggable child\n        var counter = 0;\n        for (var i = 0; i < parent.childNodes.length; i++) {\n            if ($(parent.childNodes[i]).attr(\"draggable\") === \"true\") {\n                counter++;\n            }\n        }\n        if (counter >= 1) {\n            return false;\n        } else {\n            return true;\n        }\n    }\n    createIndexArray() {\n        this.indexArray = [];\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            this.indexArray.push(i);\n        }\n    }\n    randomizeIndexArray() {\n        // Shuffles around indices so the matchable elements aren't in a predictable order\n        var currentIndex = this.indexArray.length,\n            temporaryValue,\n            randomIndex;\n        // While there remain elements to shuffle...\n        while (currentIndex !== 0) {\n            // Pick a remaining element...\n            randomIndex = Math.floor(Math.random() * currentIndex);\n            currentIndex -= 1;\n            // And swap it with the current element.\n            temporaryValue = this.indexArray[currentIndex];\n            this.indexArray[currentIndex] = this.indexArray[randomIndex];\n            this.indexArray[randomIndex] = temporaryValue;\n        }\n    }\n    /*==============================\n    == Reset button functionality ==\n    ==============================*/\n    resetDraggables() {\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            for (\n                var j = 0;\n                j < this.dragPairArray[i][1].childNodes.length;\n                j++\n            ) {\n                if (\n                    $(this.dragPairArray[i][1].childNodes[j]).attr(\n                        \"draggable\"\n                    ) === \"true\"\n                ) {\n                    this.draggableDiv.appendChild(\n                        this.dragPairArray[i][1].childNodes[j]\n                    );\n                }\n            }\n        }\n        this.feedBackDiv.style.display = \"none\";\n    }\n    /*===========================\n    == Evaluation and feedback ==\n    ===========================*/\n\n    checkCurrentAnswer() {\n        this.correct = true;\n        this.unansweredNum = 0;\n        this.incorrectNum = 0;\n        this.dragNum = this.dragPairArray.length;\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            if (\n                !$(this.dragPairArray[i][1]).has(this.dragPairArray[i][0])\n                    .length\n            ) {\n                this.correct = false;\n                this.incorrectNum++;\n            }\n            if (this.hasNoDragChild(this.dragPairArray[i][1])) {\n                this.unansweredNum++;\n                this.incorrectNum -= 1;\n            }\n        }\n        this.correctNum = this.dragNum - this.incorrectNum - this.unansweredNum;\n        this.percent = this.correctNum / this.dragPairArray.length;\n        this.setLocalStorage({ correct: this.correct ? \"T\" : \"F\" });\n    }\n\n    logCurrentAnswer() {\n        let answer = this.pregnantIndexArray.join(\";\");\n        this.logBookEvent({\n            event: \"dragNdrop\",\n            act: answer,\n            answer: answer,\n            minHeight: this.minheight,\n            div_id: this.divid,\n            correct: this.correct,\n            correctNum: this.correctNum,\n            dragNum: this.dragNum,\n        });\n    }\n    renderFeedback() {\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            if (\n                !$(this.dragPairArray[i][1]).has(this.dragPairArray[i][0])\n                    .length\n            ) {\n                $(this.dragPairArray[i][1]).addClass(\"drop-incorrect\");\n            } else {\n                $(this.dragPairArray[i][1]).removeClass(\"drop-incorrect\");\n            }\n        }\n\n        if (!this.feedBackDiv) {\n            this.renderFeedbackDiv();\n        }\n        this.feedBackDiv.style.display = \"block\";\n        if (this.correct) {\n            var msgCorrect = $.i18n(\"msg_dragndrop_correct_answer\");\n            $(this.feedBackDiv).html(msgCorrect);\n            $(this.feedBackDiv).attr(\n                \"class\",\n                \"alert alert-info draggable-feedback\"\n            );\n        } else {\n            var msgIncorrect = $.i18n(\n                $.i18n(\"msg_dragndrop_incorrect_answer\"),\n                this.correctNum,\n                this.incorrectNum,\n                this.dragNum,\n                this.unansweredNum\n            );\n            $(this.feedBackDiv).html(msgIncorrect + \" \" + this.feedback);\n            $(this.feedBackDiv).attr(\n                \"class\",\n                \"alert alert-danger draggable-feedback\"\n            );\n        }\n    }\n    /*===================================\n    === Checking/restoring from storage ===\n    ===================================*/\n    restoreAnswers(data) {\n        // Restore answers from storage retrieval done in RunestoneBase\n        this.hasStoredDropzones = true;\n        this.minheight = data.minHeight;\n        this.pregnantIndexArray = data.answer.split(\";\");\n        this.finishSettingUp();\n    }\n    checkLocalStorage() {\n        if (this.graderactive) {\n            return;\n        }\n        var storedObj;\n        this.hasStoredDropzones = false;\n        var len = localStorage.length;\n        if (len > 0) {\n            var ex = localStorage.getItem(this.localStorageKey());\n            if (ex !== null) {\n                this.hasStoredDropzones = true;\n                try {\n                    storedObj = JSON.parse(ex);\n                    this.minheight = storedObj.minHeight;\n                } catch (err) {\n                    // error while parsing; likely due to bad value stored in storage\n                    console.log(err.message);\n                    localStorage.removeItem(this.localStorageKey());\n                    this.hasStoredDropzones = false;\n                    this.finishSettingUp();\n                    return;\n                }\n                this.pregnantIndexArray = storedObj.answer.split(\";\");\n                if (this.useRunestoneServices) {\n                    // store answer in database\n                    var answer = this.pregnantIndexArray.join(\";\");\n                    this.logBookEvent({\n                        event: \"dragNdrop\",\n                        act: answer,\n                        answer: answer,\n                        minHeight: this.minheight,\n                        div_id: this.divid,\n                        correct: storedObj.correct,\n                    });\n                }\n            }\n        }\n        this.finishSettingUp();\n    }\n\n    setLocalStorage(data) {\n        if (data.answer === undefined) {\n            // If we didn't load from the server, we must generate the data\n            this.pregnantIndexArray = [];\n            for (var i = 0; i < this.dragPairArray.length; i++) {\n                if (!this.hasNoDragChild(this.dragPairArray[i][1])) {\n                    for (var j = 0; j < this.dragPairArray.length; j++) {\n                        if (\n                            $(this.dragPairArray[i][1]).has(\n                                this.dragPairArray[j][0]\n                            ).length\n                        ) {\n                            this.pregnantIndexArray.push(j);\n                        }\n                    }\n                } else {\n                    this.pregnantIndexArray.push(-1);\n                }\n            }\n        }\n        var timeStamp = new Date();\n        var correct = data.correct;\n        var storageObj = {\n            answer: this.pregnantIndexArray.join(\";\"),\n            minHeight: this.minheight,\n            timestamp: timeStamp,\n            correct: correct,\n        };\n        localStorage.setItem(\n            this.localStorageKey(),\n            JSON.stringify(storageObj)\n        );\n    }\n\n    disableInteraction() {\n        $(this.resetButton).hide();\n        for (var i = 0; i < this.dragPairArray.length; i++) {\n            // No more dragging\n            $(this.dragPairArray[i][0]).attr(\"draggable\", \"false\");\n            $(this.dragPairArray[i][0]).css(\"cursor\", \"initial\");\n        }\n    }\n}\n\n/*=================================\n== Find the custom HTML tags and ==\n==   execute our code on them    ==\n=================================*/\n$(document).bind(\"runestone:login-complete\", function () {\n    $(\"[data-component=dragndrop]\").each(function (index) {\n        var opts = {\n            orig: this,\n            useRunestoneServices: eBookConfig.useRunestoneServices,\n        };\n        if ($(this).closest(\"[data-component=timedAssessment]\").length == 0) {\n            // If this element exists within a timed component, don't render it here\n            try {\n                ddList[this.id] = new DragNDrop(opts);\n            } catch (err) {\n                console.log(`Error rendering DragNDrop Problem ${this.id}`);\n            }\n        }\n    });\n});\n","\"use strict\";\n\nimport DragNDrop from \"./dragndrop.js\";\n\nexport default class TimedDragNDrop extends DragNDrop {\n    constructor(opts) {\n        super(opts);\n        this.finishSettingUp();\n        this.renderTimedIcon(this.containerDiv);\n        this.hideButtons();\n    }\n    hideButtons() {\n        $(this.submitButton).hide();\n    }\n    renderTimedIcon(component) {\n        // renders the clock icon on timed components.    The component parameter\n        // is the element that the icon should be appended to.\n        var timeIconDiv = document.createElement(\"div\");\n        var timeIcon = document.createElement(\"img\");\n        $(timeIcon).attr({\n            src: \"../_static/clock.png\",\n            style: \"width:15px;height:15px\",\n        });\n        timeIconDiv.className = \"timeTip\";\n        timeIconDiv.title = \"\";\n        timeIconDiv.appendChild(timeIcon);\n        $(component).prepend(timeIconDiv);\n    }\n    checkCorrectTimed() {\n        // Returns if the question was correct.    Used for timed assessment grading.\n        if (this.unansweredNum === this.dragPairArray.length) {\n            this.correct = null;\n        }\n        switch (this.correct) {\n            case true:\n                return \"T\";\n            case false:\n                return \"F\";\n            default:\n                return null;\n        }\n    }\n    hideFeedback() {\n        $(this.feedBackDiv).hide();\n    }\n}\n\nif (typeof window.component_factory === \"undefined\") {\n    window.component_factory = {};\n}\nwindow.component_factory[\"dragndrop\"] = function (opts) {\n    if (opts.timed) {\n        return new TimedDragNDrop(opts);\n    }\n    return new DragNDrop(opts);\n};\n"],"sourceRoot":""}