{% extends 'layout.html' %}
{% block content %}
<div id="alert"></div>
<form action="/" method="POST" enctype="multipart/form-data">
<div class="form-group">
<label for="url">URLs</label>
<textarea id="url" class="form-control" name="url"></textarea>
</div>

<div class="form-group">
<label for="format">Format</label>
<select id="format" name="format" class="form-control">
<optgroup label="VIDEO FORMAT">
{%- for fmt in video_fmt %}
<option value="{{fmt}}">{{fmt}}</option>
{%- endfor %}
</optgroup>
<optgroup label="AUDIO FORMAT">
{%- for fmt in audio_fmt %}
<option value="{{fmt}}">{{fmt}}</option>
{%- endfor %}
</optgroup>
</select>
</div>
<br>
<button type="button" class="btn btn-primary" id="submit">ダウンロード</button>
<div class="spinner-border spinner-border-sm text-primary" id="spinner" role="status" style="display:none"></div>
</form>
<br>
<div class="progress" id="progress" style="display:none">
    <div class="progress-bar"
        style="width:0%"
        role="progressbar"
        aria-valuenow="0"
        aria-valuemin="0"
        aria-valuemax="100">0%</div>
</div>
<br>
<h2>Cached files</h2>
<table class="table table-sm table-striped table-bodered">
<thread class="thread-light">
<tr><th>File Name</th><th>Download</th><th>Remove</th></tr>
</thread>
<tbody>
{%- for file in files %}
<tr><td>{{file}}</td><td><a href="/static/files/{{file}}">DL</a></td><td><a href="/cache/rm/{{file}}">RM</a></td></tr>
{%- endfor %}
</table>
{% endblock %}
